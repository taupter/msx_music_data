10 ' FOR MuSICA 1.02
20 CLEAR3000,&HA500:KEYOFF:DEFINTA-Z:DIMI(1)
30 DEFUSR=&HCE00:DEFUSR1=&HCE06:DEFUSR2=&HCE03:DEFUSR3=&HCE09:DEFUSR9=&H156
40 BLOAD"BGM.BIN":GOTO 1000
100 'A=ADDRESS of GAME CARTRIDGE with SCC
110 POKE&HD053,&H3E:POKE&HD054,A:POKE&HD055,&H32:POKE&HD056,&H98:POKE&HD057,&HCE:POKE&HD058,0:RETURN
120 ' INITIALIZE
130 I=USR(0):ONSTOPGOSUB280:STOPON:RETURN
140 ' STOP BGM
150 I=USR1(0):RETURN
160 ' CHANGE VOLUME (V)
170 I=USR3(VARPTR(V)):RETURN
180 ' LOAD BGM
190 BLOAD F$+".BGM"
200 OPEN F$+".BGM" FOR INPUT AS #1:A$=INPUT$(5,#1):CLOSE#1
210 FORJ=0TO1:AD$(J)=HEX$(ASC(MID$(A$,2+J*2,1))+ASC(MID$(A$,3+J*2,1))*256):NEXT
220 LA=VAL("&H"+AD$(0)):A0=VAL("&H"+AD$(1)):RETURN
230 ' PLAY INTRO+LOOP BGM
240 POKE&HA500,0:IF LP=1 THEN MA=IA ELSE MA=LA
250 POKE&HA502,MA AND255:POKE&HA503,VAL("&h"+MID$(HEX$(MA),1,2))
260 A=USR2(&HA500):POKE&HCE9C,(LA AND255):POKE&HCE9D,VAL("&h"+MID$(HEX$(LA),1,2))
270 RETURN
280 ' ON STOP
290 GOSUB 140:END
300 '
1000 GOSUB120:F$="YS2TOMAK":GOSUB 180:GOSUB 230
1010 KEYOFF:SCREEN1:WIDTH32
1020 Y=0:RESTORE
1030 READ V$:IF V$<>"@" THEN Y=Y+1:GOTO 1030
1040 RESTORE:Y=12-Y:IF Y<0 THEN Y=0
1050 READ V$:IF V$<>"@" THEN GOSUB 1070:GOTO 1050
1060 IF INKEY$="" THEN 1060 ELSE GOSUB 140:END
1070 '
1080 X=(32-LEN(V$))/2
1090 'LOCATE x,Y:PRINTV$:Y=Y+2:RETURN
1101 FOR I=23 TO Y STEP-1:LOCATE X,I:PRINTV$;:NEXT
1102 FOR I=23 TO Y+1 STEP-1:LOCATE X,I:PRINTCHR$(27)+"l";:NEXT
1110 Y=Y+2:RETURN
1120 '
1130 DATA"YS II"
1140 DATA""
1150 DATA"TO MAKE THE END OF BATTLE"
1160 DATA""
1161 DATA
1170 DATA"OPLL + PSG"
1180 DATA"@"
